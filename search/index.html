<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta content="IE=edge,chrome=1">
        <title>Search</title>
        <meta name="viewport" content="width=device-width">
        
        <!-- Basic Bootstrap CSS -->
        <link href="/assets/css/bootstrap_journal.min.css" rel="stylesheet">
        <link href="/assets/css/bootstrap-social.css" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/assets/css/monokai.min.css">
        <!-- Custom template CSS -->
        <link href="/assets/css/custom-template.css" rel="stylesheet">
        <link rel="image_src" href="/assets/images/profil.jpg" />
    </head>
    <body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><span style="font-weight:normal">FRANÃ§OIS</span>CABROL</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            
            
              
              
              
              <li >
                <a href="/blog/">Blog</a>
              </li>
              
            
              
              
              
              <li >
                <a href="/project/">Projects</a>
              </li>
              
            
              
            
              
            
              
              
              
              <li >
                <a href="/about/">About</a>
              </li>
              
            
              
            
              
            
              
            
                      </ul>
          
          
          <ul class="nav-network">
            <li>
	    <a class="btn btn-sm btn-social-icon btn-google-plus" href="mailto:francois.cabrol@live.ca" data-toggle="tooltip" data-placement="bottom" title="francois.cabrol@live.ca">
                <i class="fa fa-envelope"></i>
              </a>
            </li>
            <li>
               <a class="btn btn-sm btn-social-icon btn-twitter" href="https://twitter.com/francoiscabrol" data-toggle="tooltip" data-placement="bottom" title="@francoiscabrol on Twitter">
                <i class="fa fa-twitter"></i>
              </a>
            </li>
            <li>
	    <a href="https://github.com/francoiscabrol" class="btn btn-sm btn-social-icon btn-github" data-toggle="tooltip" data-placement="bottom" title="My GitHub">
                <i class="fa fa-github"></i><D-r>
              </a>
            </li>
            <!-- <li>
              <a href="https://soundcloud.com/francoiscabrol" class="btn btn-sm btn-social-icon btn-soundcloud"  data-toggle="tooltip" data-placement="bottom" title="My SoundCloud">
                <i class="fa fa-soundcloud"></i>
              </a>
	    </li> -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container theme-showcase wrap" role="main">
          <h1></h1>

<ul class="results">
</ul>

<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/search.js"></script>
<script language="javascript">

var layoutResultsPage = function(posts) {
  // Loop through each post to format it
  results = $('.results');
  for (var i=0; i<posts.length; i++) {
    // Create an unordered list of the post's tags
    var tagsList = '';
    var post     = posts[i];
    if (post == null) continue;
    var tags = post.tags;

    for (j=0; j<tags.length;j++) {
      if (tags[j]==null) continue;
      tagsList += '' + '<a class="label label-danger" href="/search/?tag=' + tags[j] + '&categories=' + post.category + '">' + tags[j] + '</a>' + '</li> ';
    }
    tagsList += '';

   results.append(
      '<section class="post">'
        // Page anchor
        + '<header class="entry-header">'
        + '<h3 class="entry-title">' + '<a href="' + post.href + '">' + post.title + '</a> (' + post.category + ')</h3>'
          // Post date
          + '<p class="entry-meta">'
          // Tags
          + tagsList + '</p>'
        + '</header>');
       results.append(post.description);
     results.append('</section>');
  }
};

var updateHeader = function (categories, tag){
  var s = 'Related to "' + tag;
  if (categories != null)
    s += '" in ' + categories;
  else
    s += '"';
  $('h1').html(s);
};

var noResultsPage = function () {
  results = $('ul.results');
  results.append("No results");
};


var getParam = function(param) {
     var queryString = window.location.search.substring(1);
     var queries = queryString.split('&');
     for (var i=0; i<queries.length; i++) {
       var pair = queries[i].split('=');
       if (pair[0] === param) {
         // Decode the parameter value, replacing %20 with a space etc.
         return decodeURI(pair[1]);
       }
     }
     return null;
   };


var params = {
  'categories' : getParam('categories'),
  'tag'        : getParam('tag')
};

   updateHeader(params.categories, params.tag);

   searchByProperty(params, function(posts){
      if (posts.length === 0) {
        // Display 'no results found' or similar here
         noResultsPage();
       } else {
         layoutResultsPage(posts);
       }
   });

</script>

    </div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/lightlightbox.js"></script>
    <script src="/assets/js/highlight.min.js"></script>
    <script src="/assets/js/custom.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
